function MarkerClusterer(e,t,n){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=e;this.markers_=[];this.clusters_=[];this.markersCluster_={};this.markersUniqueID=1;this.sizes=[53,56,66,78,90];this.styles_=[];this.cssClass_="";this.ready_=false;var r=n||{};this.gridSize_=r["gridSize"]!==undefined?r["gridSize"]:60;this.minClusterSize_=r["minimumClusterSize"]||2;this.ignoreHiddenMarkers_=r["ignoreHiddenMarkers"]||false;this.maxZoom_=r["maxZoom"]||null;this.styles_=r["styles"]||[];this.cssClass_=r["cssClass"]||null;this.imagePath_=r["imagePath"]||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=r["imageExtension"]||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=true;if(r["zoomOnClick"]!=undefined){this.zoomOnClick_=r["zoomOnClick"]}this.averageCenter_=false;if(r["averageCenter"]!=undefined){this.averageCenter_=r["averageCenter"]}this.setupStyles_();this.setMap(e);this.prevZoom_=this.map_.getZoom();var i=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=i.map_.getZoom();if(i.prevZoom_!=e){i.prevZoom_=e;i.resetViewport()}});google.maps.event.addListener(this.map_,"idle",function(){i.redraw()});if(t&&t.length){this.addMarkers(t,false)}}function Cluster(e){this.markerClusterer_=e;this.map_=e.getMap();this.gridSize_=e.getGridSize();this.minClusterSize_=e.getMinClusterSize();this.averageCenter_=e.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,n){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=t;this.padding_=n||0;this.cluster_=e;this.center_=null;this.map_=e.getMap();this.div_=null;this.sums_=null;this.visible_=false;this.setMap(this.map_)}(function(e){function c(t,n,r,o){var u={data:o||(n?n.data:{}),_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:b,nest:w,wrap:E,html:S,update:x};t&&e.extend(u,t,{nodes:[],parent:n});if(r){u.tmpl=r;u._ctnt=u._ctnt||u.tmpl(e,u);u.key=++a;(l.length?s:i)[a]=u}return u}function h(t,r,i){var s,o=i?e.map(i,function(e){return typeof e==="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+n+'="'+t.key+'" $2'):e:h(e,t,e._ctnt)}):t;if(r)return o;o=o.join("");o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,r,i){s=e(r).get();y(s);if(n)s=p(n).concat(s);if(i)s=s.concat(p(i))});return s?s:p(o)}function p(t){var n=document.createElement("div");n.innerHTML=t;return e.makeArray(n.childNodes)}function d(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,r,i,s,o,u){var a=e.tmpl.tag[r],f,l,c;if(!a)throw"Template command not found: "+r;f=a._default||[];if(o&&!/\w$/.test(s)){s+=o;o=""}if(s){s=m(s);u=u?","+m(u)+")":o?")":"";l=o?s.indexOf(".")>-1?s+o:"("+s+").call($item"+u:s;c=o?l:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"}else c=l=f.$1||"null";i=m(i);return"');"+a[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i?i.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(e,t,n,r){r=r?","+r+")":n?")":"";return r?"("+t+").call($item"+r:e}):f.$2||"")+"_.push('"})+"');}return _;")}function v(t,n){t._wrap=h(t,true,e.isArray(n)?n:[r.test(n)?n:e(n).html()]).join("")}function m(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function g(e){var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}function y(t){function v(t){function v(e){e=e+r;p=l[e]=l[e]||c(p,i[p.parent.key+r]||p.parent,null,true)}var o,u=t,h,p,d;if(d=t.getAttribute(n)){while(u.parentNode&&(u=u.parentNode).nodeType===1&&!(o=u.getAttribute(n)));if(o!==d){u=u.parentNode?u.nodeType===11?0:u.getAttribute(n)||0:0;if(!(p=i[d])){p=s[d];p=c(p,i[u]||s[u],null,true);p.key=++a;i[a]=p}f&&v(d)}t.removeAttribute(n)}else if(f&&(p=e.data(t,"tmplItem"))){v(p.key);i[p.key]=p;u=e.data(t.parentNode,"tmplItem");u=u?u.key:0}if(p){h=p;while(h&&h.key!=u){h.nodes.push(t);h=h.parent}delete p._ctnt;delete p._wrap;e.data(t,"tmplItem",p)}}var r="_"+f,o,u,l={},h,p,d;for(h=0,p=t.length;h<p;h++){if((o=t[h]).nodeType!==1)continue;u=o.getElementsByTagName("*");for(d=u.length-1;d>=0;d--)v(u[d]);v(o)}}function b(e,t,n,r){if(!e)return l.pop();l.push({_:e,tmpl:t,item:this,data:n,options:r})}function w(t,n,r){return e.tmpl(e.template(t),n,r,this)}function E(t,n){var r=t.options||{};r.wrapped=n;return e.tmpl(e.template(t.tmpl),t.data,r,t.item)}function S(t,n){var r=this._wrap;return e.map(e(e.isArray(r)?r.join(""):r).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||g(e)})}function x(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]);e(t).remove()}var t=e.fn.domManip,n="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,i={},s={},o,u={key:0,data:{}},a=0,f=0,l=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){var s=[],u=e(r),a,l,c,h,p=this.length===1&&this[0].parentNode;o=i||{};if(p&&p.nodeType===11&&p.childNodes.length===1&&u.length===1){u[n](this[0]);s=this}else{for(l=0,c=u.length;l<c;l++){f=l;a=(l>0?this.clone(true):this).get();e.fn[n].apply(e(u[l]),a);s=s.concat(a)}f=0;s=this.pushStack(s,t,u.selector)}h=o;o=null;e.tmpl.complete(h);return s}});e.fn.extend({tmpl:function(t,n,r){return e.tmpl(this[0],t,n,r)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(n,r,s){if(n[0]&&n[0].nodeType){var u=e.makeArray(arguments),a=n.length,l=0,c;while(l<a&&!(c=e.data(n[l++],"tmplItem")));if(a>1)u[0]=[e.makeArray(n)];if(c&&f)u[2]=function(t){e.tmpl.afterManip(this,t,s)};t.apply(this,u)}else t.apply(this,arguments);f=0;!o&&e.tmpl.complete(i);return this}});e.extend({tmpl:function(t,n,r,o){var a,f=!o;if(f){o=u;t=e.template[t]||e.template(null,t);s={}}else if(!t){t=o.tmpl;i[o.key]=o;o.nodes=[];o.wrapped&&v(o,o.wrapped);return e(h(o,null,o.tmpl(e,o)))}if(!t)return[];if(typeof n==="function")n=n.call(o||{});r&&r.wrapped&&v(r,r.wrapped);a=e.isArray(n)?e.map(n,function(e){return e?c(r,o,t,e):null}):[c(r,o,t,n)];return f?e(h(o,null,a)):a},tmplItem:function(t){var n;if(t instanceof e)t=t[0];while(t&&t.nodeType===1&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode));return n||u},template:function(t,n){if(n){if(typeof n==="string")n=d(n);else if(n instanceof e)n=n[0]||{};if(n.nodeType)n=e.data(n,"tmpl")||e.data(n,"tmpl",d(n.innerHTML));return typeof t==="string"?e.template[t]=n:n}return t?typeof t!=="string"?e.template(null,t):e.template[t]||e.template(null,r.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){i={}},afterManip:function(t,n,r){var i=n.nodeType===11?e.makeArray(n.childNodes):n.nodeType===1?[n]:[];r.call(t,n);y(i);f++}})})(jQuery);MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="https://raw.githubusercontent.com/gmaps-marker-clusterer/gmaps-marker-clusterer/master/images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){this.prototype[t]=e.prototype[t]}return this}.apply(e,[t])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(true)};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(this.styles_.length){return}for(var e=0,t;t=this.sizes[e];e++){var n="";if(typeof this.imagePath_==="function"){n=this.imagePath_(e,t)}else{n=this.imagePath_+(e+1)+"."+this.imageExtension_}this.styles_.push({url:n,height:t,width:t})}};MarkerClusterer.prototype.fitMapToMarkers=function(){var e=this.getMarkers();var t=new google.maps.LatLngBounds;for(var n=0,r;r=e[n];n++){t.extend(r.getPosition())}this.map_.fitBounds(t)};MarkerClusterer.prototype.setStyles=function(e){this.styles_=e};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.getMarkersCluster=function(e){return this.clusters_[this.markersCluster_[e.uniqueID]]};MarkerClusterer.prototype.calculator_=function(e,t){var n=0;var r=e.length;var i=r;while(i!==0){i=parseInt(i/10,10);n++}n=Math.min(n,t);return{text:r,index:n}};MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(e,t){for(var n=0,r;r=e[n];n++){this.pushMarkerTo_(r)}if(!t){this.redraw()}};MarkerClusterer.prototype.pushMarkerTo_=function(e){e.isAdded=false;if(e["draggable"]){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=false;t.repaint()})}e.uniqueID=this.markersUniqueID;this.markersUniqueID++;this.markers_.push(e)};MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e);if(!t){this.redraw()}};MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf){t=this.markers_.indexOf(e)}else{for(var n=0,r;r=this.markers_[n];n++){if(r==e){t=n;break}}}if(t==-1){return false}e.setMap(null);this.markers_.splice(t,1);delete this.markersCluster_[e.uniqueID];return true};MarkerClusterer.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);if(!t&&n){this.resetViewport();this.redraw();return true}else{return false}};MarkerClusterer.prototype.removeMarkers=function(e,t){var n=false;for(var r=0,i;i=e[r];r++){var s=this.removeMarker_(i);n=n||s}if(!t&&n){this.resetViewport();this.redraw();return true}};MarkerClusterer.prototype.setReady_=function(e){if(!this.ready_){this.ready_=e;this.createClusters_()}};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(e){this.map_=e};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e};MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection();var n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng());var r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng());var i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_;i.y-=this.gridSize_;var s=t.fromLatLngToDivPixel(r);s.x-=this.gridSize_;s.y+=this.gridSize_;var o=t.fromDivPixelToLatLng(i);var u=t.fromDivPixelToLatLng(s);e.extend(o);e.extend(u);return e};MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(true);this.markers_=[];this.markersCluster_={};this.markersUniqueID=1};MarkerClusterer.prototype.resetViewport=function(e){for(var t=0,n;n=this.clusters_[t];t++){n.remove()}for(var t=0,r;r=this.markers_[t];t++){r.isAdded=false;if(e){r.setMap(null)}}this.clusters_=[];this.markersCluster_={};this.markersUniqueID=1};MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var t=0,n;n=e[t];t++){n.remove()}},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t){return 0}var n=6371;var r=(t.lat()-e.lat())*Math.PI/180;var i=(t.lng()-e.lng())*Math.PI/180;var s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);var o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));var u=n*o;return u};MarkerClusterer.prototype.addToClosestCluster_=function(e){var t=4e4;var n=null;var r=e.getPosition();var i=null;for(var s=0,o;o=this.clusters_[s];s++){var u=o.getCenter();if(u){var a=this.distanceBetweenPoints_(u,e.getPosition());if(a<t){t=a;n=o;i=s}}}if(n&&n.isMarkerInClusterBounds(e)){n.addMarker(e)}else{var o=new Cluster(this);o.addMarker(e);this.clusters_.push(o);i=this.clusters_.length-1}if(e.isAdded){this.markersCluster_[e.uniqueID]=i}};MarkerClusterer.prototype.createClusters_=function(){if(!this.ready_){return}var e=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast());var t=this.getExtendedBounds(e);for(var n=0,r;r=this.markers_[n];n++){if(!r.isAdded&&this.isMarkerInBounds_(r,t)&&(!this.ignoreHiddenMarkers_||r.getVisible())){this.addToClosestCluster_(r)}}};Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf){return this.markers_.indexOf(e)!=-1}else{for(var t=0,n;n=this.markers_[t];t++){if(n==e){return true}}}return false};Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e)){return false}if(!this.center_){this.center_=e.getPosition();this.calculateBounds_()}else{if(this.averageCenter_){var t=this.markers_.length+1;var n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t;var r=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,r);this.calculateBounds_()}}e.isAdded=true;this.markers_.push(e);var i=this.markers_.length;if(i<this.minClusterSize_&&e.getMap()!=this.map_){e.setMap(this.map_)}if(i==this.minClusterSize_){for(var s=0;s<i;s++){this.markers_[s].setMap(null)}}if(i>=this.minClusterSize_){e.setMap(null)}this.updateIcon();return true};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);var t=this.getMarkers();for(var n=0,r;r=t[n];n++){e.extend(r.getPosition())}return e};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)};Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom();var t=this.markerClusterer_.getMaxZoom();if(t&&e>t){for(var n=0,r;r=this.markers_[n];n++){r.setMap(this.map_)}return}if(this.markers_.length<this.minClusterSize_){this.clusterIcon_.hide();return}var i=this.markerClusterer_.getStyles().length;var s=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(s);this.clusterIcon_.show()};ClusterIcon.prototype.triggerClusterClick=function(e){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_,e);if(t.isZoomOnClick()){this.map_.fitBounds(this.cluster_.getBounds())}};ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e);this.div_.innerHTML=this.sums_.text;var t=this.cluster_.getMarkerClusterer();if(t.cssClass_){this.div_.className=t.cssClass_}}var n=this.getPanes();n.overlayMouseTarget.appendChild(this.div_);var r=this;var i=false;var s=false;google.maps.event.addDomListener(this.div_,"click",function(e){if(!i){r.triggerClusterClick(e)}});google.maps.event.addDomListener(this.div_,"mousedown",function(){i=false;s=true});google.maps.event.addDomListener(this.div_,"mouseup",function(){i=false;s=false});google.maps.event.addDomListener(this.div_,"mousemove",function(){if(s){i=true}})};ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);if(typeof this.iconAnchor_==="object"&&this.iconAnchor_.length===2){t.x-=this.iconAnchor_[0];t.y-=this.iconAnchor_[1]}else{t.x-=parseInt(this.width_/2,10);t.y-=parseInt(this.height_/2,10)}return t};ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px";this.div_.style.left=e.x+"px"}};ClusterIcon.prototype.hide=function(){if(this.div_){this.div_.style.display="none"}this.visible_=false};ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e);this.div_.style.display=""}this.visible_=true};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){if(this.div_&&this.div_.parentNode){this.hide();this.div_.parentNode.removeChild(this.div_);this.div_=null}};ClusterIcon.prototype.setSums=function(e){this.sums_=e;this.text_=e.text;this.index_=e.index;if(this.div_){this.div_.innerHTML=e.text}this.useStyle()};ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t["url"];this.height_=t["height"];this.width_=t["width"];this.textColor_=t["textColor"];this.anchor_=t["anchor"];this.textSize_=t["textSize"];this.backgroundPosition_=t["backgroundPosition"];this.iconAnchor_=t["iconAnchor"]};ClusterIcon.prototype.setCenter=function(e){this.center_=e};ClusterIcon.prototype.createCss=function(e){var t=[];var n=this.cluster_.getMarkerClusterer();if(!n.cssClass_){t.push("background-image:url("+this.url_+");");var r=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+r+";");if(typeof this.anchor_==="object"){if(typeof this.anchor_[0]==="number"&&this.anchor_[0]>0&&this.anchor_[0]<this.height_){t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;")}else if(typeof this.anchor_[0]==="number"&&this.anchor_[0]<0&&-this.anchor_[0]<this.height_){t.push("height:"+this.height_+"px; line-height:"+(this.height_+this.anchor_[0])+"px;")}else{t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;")}if(typeof this.anchor_[1]==="number"&&this.anchor_[1]>0&&this.anchor_[1]<this.width_){t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;")}else{t.push("width:"+this.width_+"px; text-align:center;")}}else{t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;")}var i=this.textColor_?this.textColor_:"black";var s=this.textSize_?this.textSize_:11;t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+i+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold")}else{t.push("top:"+e.y+"px; left:"+e.x+"px;")}return t.join("")};window["MarkerClusterer"]=MarkerClusterer;MarkerClusterer.prototype["addMarker"]=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype["addMarkers"]=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype["clearMarkers"]=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype["fitMapToMarkers"]=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype["getCalculator"]=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype["getGridSize"]=MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype["getExtendedBounds"]=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype["getMap"]=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype["getMarkers"]=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype["getMaxZoom"]=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype["getMarkersCluster"]=MarkerClusterer.prototype.getMarkersCluster;MarkerClusterer.prototype["getStyles"]=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype["getTotalClusters"]=MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype["getTotalMarkers"]=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype["redraw"]=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype["removeMarker"]=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype["removeMarkers"]=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype["resetViewport"]=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype["repaint"]=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype["setCalculator"]=MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype["setGridSize"]=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype["setMaxZoom"]=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype["onAdd"]=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype["draw"]=MarkerClusterer.prototype.draw;Cluster.prototype["getCenter"]=Cluster.prototype.getCenter;Cluster.prototype["getSize"]=Cluster.prototype.getSize;Cluster.prototype["getMarkers"]=Cluster.prototype.getMarkers;ClusterIcon.prototype["onAdd"]=ClusterIcon.prototype.onAdd;ClusterIcon.prototype["draw"]=ClusterIcon.prototype.draw;ClusterIcon.prototype["onRemove"]=ClusterIcon.prototype.onRemove;(function(e,t,n,r){"use strict";function o(t,n){this.element=t;this.settings=e.extend(true,s,n);this._name=i;this.markers=[];this._markers={};this.stores={};this._showData=[];this.itemCount;this._markerCluster=null;this._filterNavigationHeight=null;this._activeCategories=[];this.zoomListener=null;this.init()}var i="storeLocator",s={remote:null,height:null,defaultLocation:null,mapOptions:{zoom:10,minZoom:4,maxZoom:16,scrollwheel:true,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},scaleControl:true,streetViewControl:false,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}]},templates:{list:"mapListEntryTemplate",detail:"mapListDetailTemplate"},markerOptions:{draggable:false,bounceMarker:true,markerIcon:"pins/blank.png",dropAnimation:false},categoriesOptions:{categoryField:"category",showFilter:false,filterPosition:google.maps.ControlPosition.LEFT_TOP,template:null,boundOnClick:false,icons:null},detailsOptions:{closeTrigger:".map_details_close",panorama:{container:"pano",showPanorama:false,notFoundText:"Street View data not found for this location.",searchRadius:50}},searchOptions:{show:true,placeholder:"Enter your search term..."},listOptions:{position:"right",sortByDistance:false,distanceType:"km",updateOn:{drag:true,zoom:true,resize:true}},geoLocationOptions:{show:true,icon:BUL,title:"Show your Location",zoom:10,position:google.maps.ControlPosition.TOP_LEFT,index:1},autocompleteOptions:{show:true,position:google.maps.ControlPosition.TOP_LEFT,placeholder:"find location by city",country:null,types:"(cities)",zoom:10,"class":"map_btn_custom",index:2,errorNotFound:"No result for your search!"},markerCluster:{cluster:true,imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",cssClass:"custom-pin"},routeOptions:{show:false,headline:"<h3>Direction</h3>",trigger:"map_direction_trigger",closeTrigger:"map_direction_close_trigger",closeHtml:"close",types:"address",country:null},notificationOptions:{"class":"custom-class",duration:5e3},responsiveOptions:[{breakpoint:768,settings:{mapHeight:400,listHeight:400}},{breakpoint:480,settings:{mapHeight:"full",listHeight:400}}],onUpdateDetail:function(){},onUpdateList:function(){},onBeforeClickMarker:function(){}};e.extend(o.prototype,{init:function(){if(this.settings.listOptions.position=="right"){e(".map_container").css("float","left");e(".map_detail").addClass("from_right")}else if(this.settings.listOptions.position=="left"){e(".map_container").css("float","right");e(".map_detail").addClass("from_left")}this._initMap();if(this.settings.remote==null){this._showNotification("No remote url specified.");return}var t=this;e.ajax({url:this.settings.remote,async:false,dataType:"json",success:e.proxy(function(e){this.stores=e},this),complete:e.proxy(function(){this._initAfterDataLoaded()},this)})},_initAfterDataLoaded:function(){if(this.stores.length===0){alert("no data found")}this._initResponsive();var r=this;e(t).on("resize",function(){r._initResponsive()});this._initMarker();if(this.settings.defaultLocation==null){this._initList()}this._initClicks();if(this.settings.geoLocationOptions.show){if("https:"==n.location.protocol){e('<div class="map_geotarget"><div class="map_btn_custom" title="'+this.settings.geoLocationOptions.title+'"><img src="'+this.settings.geoLocationOptions.icon+'" alt="'+this.settings.geoLocationOptions.title+'" /></div></div>');var i=n.createElement("div");i.style.margin="10px";i.className="map_geotarget";var s=n.createElement("div");s.className="map_btn_custom";i.appendChild(s);var o=n.createElement("img");o.src=this.settings.geoLocationOptions.icon;o.alt=this.settings.geoLocationOptions.title;s.appendChild(o);i.index=this.settings.geoLocationOptions.index;this.map.controls[this.settings.geoLocationOptions.position].push(i)}else{this._showNotification("Only secure origins are allowed for GeoLocation. You need HTTPS.")}}if(this.settings.autocompleteOptions.show){var u=n.createElement("div");u.style.margin="10px";var a=n.createElement("input");a.setAttribute("type","text");a.setAttribute("class",this.settings.autocompleteOptions.class);a.setAttribute("id","pac-input");a.setAttribute("placeholder",this.settings.autocompleteOptions.placeholder);u.appendChild(a);u.index=this.settings.autocompleteOptions.index;this.map.controls[this.settings.autocompleteOptions.position].push(u);var f=a;var l={types:[this.settings.autocompleteOptions.types]};if(this.settings.autocompleteOptions.country!==null){if(this.settings.autocompleteOptions.country.toLowerCase()!="all"){l.componentRestrictions={country:this.settings.autocompleteOptions.country}}}var c=new google.maps.places.Autocomplete(f,l);google.maps.event.addListener(c,"place_changed",function(){if(!this.getPlace().geometry){r._showNotification(r.settings.autocompleteOptions.errorNotFound);return false}var e=new google.maps.LatLng(this.getPlace().geometry.location.lat(),this.getPlace().geometry.location.lng());r.map.setCenter(e);r.map.setZoom(r.settings.autocompleteOptions.zoom)})}if(this.settings.searchOptions.show){e("<div>",{"class":"map_filter_box"}).append(e("<div>",{"class":"map_filter_input"}).append(e('<input type="text">').attr("class","map_search_input").attr("placeholder",this.settings.searchOptions.placeholder).attr("name","search").attr("id","search")).append(e("<span>").attr("class","map_search_icon"))).appendTo(".map_listings_headline")}if(this.settings.categoriesOptions.showFilter){var h=n.createElement("div");h.style.margin="10px";h.className="categories";h.id="mapFilterNavigation";if(this.settings.categoriesOptions.template){h.innerHTML=this.settings.categoriesOptions.template}else{if(this.settings.categoriesOptions.icons!=null){e.each(this.settings.categoriesOptions.icons,function(e){var t=n.createElement("a");t.className="ucwords map-marker-filter-"+e;t.setAttribute("data-cat",e);t.innerHTML=e;h.appendChild(t)});var p=n.createElement("a");p.className="ucwords map-marker-filter-all";p.setAttribute("data-cat","all");p.innerHTML="show all";h.appendChild(p)}}h.index=this.settings.autocompleteOptions.index;this.map.controls[this.settings.categoriesOptions.filterPosition].push(h)}if(this.settings.routeOptions.show){e("<div>",{"class":"map_route",id:"map_route"}).append(this.settings.routeOptions.headline).append(e('<input type="text">').attr("class","map_direction_input").attr("placeholder",this.settings.routeOptions.placeholder).attr("name","origin").attr("id","map_direction_input")).append(e("<a>",{"class":"map_direction_close_trigger",html:this.settings.routeOptions.closeHtml})).appendTo(".map_results");this._directionsDisplay=new google.maps.DirectionsRenderer;var d=new google.maps.DirectionsService;var v=this._checkClassOrId(this.settings.routeOptions.trigger);e(n).on("click",v,function(t){if(!e(".map_route").hasClass("open")){e(".map_route").addClass("open");t.preventDefault();var i="";if(e(".map_direction_input").val().length>0){i=e(".map_direction_input").val()}var s=e(this).tmplItem();if(e.isEmptyObject(s.data)===false){var o=s.data.location.latitude+","+s.data.location.longitude;r._routeDestination=o;if(i.length>0){r._directionsDisplay.setMap(r.map);r._directionsDisplay.setPanel(n.getElementById("map_route"));r._calculateAndDisplayRoute(d,r._directionsDisplay,i,o)}}}});var m=this._checkClassOrId(this.settings.routeOptions.closeTrigger);e(n).on("click",m,e.proxy(r._closeDirections,r));var f=n.getElementById("map_direction_input");var l={types:[this.settings.routeOptions.types],componentRestrictions:{country:this.settings.routeOptions.country}};if(this.settings.routeOptions.country!=null){var l={types:[this.settings.routeOptions.types],componentRestrictions:{country:this.settings.routeOptions.country}}}else{var l={types:[this.settings.routeOptions.types]}}var c=new google.maps.places.Autocomplete(f,l);google.maps.event.addListener(c,"place_changed",function(){if(!this.getPlace()){return}var e=new google.maps.LatLng(this.getPlace().geometry.location.lat(),this.getPlace().geometry.location.lng());var t=e;if(r._routeDestination){r._directionsDisplay.setMap(r.map);r._directionsDisplay.setPanel(n.getElementById("map_route"));var i=r._routeDestination;r._calculateAndDisplayRoute(d,r._directionsDisplay,t,i)}})}e(n).on("mouseenter",".result_item",function(){var t=e(this).data("id");r._markers[t].setAnimation(google.maps.Animation.BOUNCE);setTimeout(function(){r._markers[t].setAnimation(null)},750)});e(n).on("mouseleave",".result_item",function(){var t=e(this).data("id");r._markers[t].setAnimation(null)});google.maps.event.addListenerOnce(this.map,"tilesloaded",e.proxy(function(){if(this.settings.listOptions.updateOn.zoom){r.zoomListener=google.maps.event.addListener(this.map,"zoom_changed",e.proxy(this._getInViewportMarkers,this))}if(this.settings.listOptions.updateOn.drag){google.maps.event.addListener(this.map,"dragend",e.proxy(this._getInViewportMarkers,this))}if(this.settings.listOptions.updateOn.resize){google.maps.event.addListener(this.map,"resize",e.proxy(this._getInViewportMarkers,this));google.maps.event.addDomListener(t,"resize",e.proxy(function(){if(this.settings.defaultLocation==null){this.map.fitBounds(this._bounds)}},this))}},this))},_initMap:function(){this.map=new google.maps.Map(e(this.element)[0],this.settings.mapOptions)},_initMarker:function(){this._createMarkers();if(this.settings.defaultLocation!=null){this._initDefaultLocation()}else{if(this.settings.listOptions.sortByDistance){this.map.setCenter(this._bounds.getCenter())}this.map.fitBounds(this._bounds)}},_initDefaultLocation:function(){var e=this.settings.defaultLocation,t;if(e instanceof Array){t=new google.maps.LatLng(e[0],e[1])}if(this.map){this.map.setCenter(t)}this.map.setZoom(this.settings.mapOptions.zoom);var n=this;this._boundInitListener=google.maps.event.addListener(n.map,"bounds_changed",function(){n._getInViewportMarkers()})},_initClicks:function(){var t=this;e(n).on("click",".result_item a",function(n){n.preventDefault();var r=e(this).tmplItem();if(e.isEmptyObject(r.data)===false){t._updateDetail(r.data)}});e(n).on("click",".filter_minimize",function(){var n=e("#mapFilterNavigation");if(t._filterNavigationHeight==null){t._filterNavigationHeight=n.innerHeight()}n.height(t._filterNavigationHeight);if(n.hasClass("minimized")){n.removeClass("minimized")}else{var r=e(this).outerHeight(true);n.height(r);n.addClass("minimized")}});e(n).on("click",".map_geotarget",function(){var n=t;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e.proxy(t._geolocationSuccess,t),t._geolocationError)}else{n._showNotification("geolocation not supported.")}});e(n).on("click",".map_search_icon",function(){var t=e(".map_filter_input");if(t.hasClass("input_open")){t.removeClass("input_open")}else{t.addClass("input_open")}});e(n).on("keyup","#search",function(){var t=e(this).val(),n=0;e(".result_item").each(function(){if(e(this).text().search(new RegExp(t,"i"))<0){e(this).fadeOut()}else{e(this).show();n++}})});e(n).on("click",".categories a",function(n){n.preventDefault();if(e(this).hasClass("map-marker-filter-all")){e(".categories a").not(this).removeClass("active");e(this).addClass("active");t._activeCategories=[]}else{var r=e(this).data("cat");if(e(this).hasClass("active")){t._activeCategories=e.grep(t._activeCategories,function(e){return e!=r});e(this).removeClass("active")}else{e(this).addClass("active");t._activeCategories.push(r)}}t._createMarkers();if(t.settings.categoriesOptions.boundOnClick){if(t.settings.listOptions.updateOn.zoom){if(t.zoomListener){google.maps.event.removeListener(t.zoomListener)}}t.map.fitBounds(t._bounds);t._initList();if(t.settings.listOptions.updateOn.zoom){t.zoomListener=google.maps.event.addListener(t.map,"zoom_changed",e.proxy(t._getInViewportMarkers,t))}}else{t._getInViewportMarkers()}});e(n).on("click",this.settings.detailsOptions.closeTrigger,function(e){e.preventDefault();t.closeDetail()})},_geolocationSuccess:function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);this.map.setCenter(t);this.map.setZoom(this.settings.geoLocationOptions.zoom)},_geolocationError:function(e){this._showNotification(e)},_checkClassOrId:function(e){var t=e;if(n.getElementsByClassName(e).length!=0){t="."+e}else if(n.getElementById(e)!=null){t="#"+e}else{t="."+e}return t},_createMarkers:function(){this._removeMarkers();var t=new google.maps.LatLngBounds;var n=0;this.markers=[];this._showData=[];var i=this._activeCategories;for(var s=0;s<this.stores.length;s++){var o=this.stores[s];var u=this.settings.categoriesOptions.categoryField;var a;var f=o[u];if(e.isEmptyObject(i)===false){if(e.inArray(f,i)===-1){continue}}this._showData.push(o);if(this.settings.categoriesOptions.icons!=null&&this.settings.categoriesOptions.icons[f]){a=this.settings.categoriesOptions.icons[f]}else{a=this.settings.markerOptions.markerIcon}var l=new google.maps.LatLng(o.location.latitude,o.location.longitude);var c=new google.maps.Marker({position:l,map:this.map,icon:a,draggable:this.settings.markerOptions.draggable,itemId:o.id});if(this.settings.markerOptions.dropAnimation){c.setAnimation(google.maps.Animation.DROP)}this._markers[o.id]=c;this.markers.push(c);var h=this;google.maps.event.addListener(c,"click",this._handleMarkerClick.bind(r,c,o,this));google.maps.event.addListener(c,"mouseover",this._handleMarkerMouseover.bind(r,c,o,this));google.maps.event.addListener(c,"mouseout",function(){e(".map_listings_results .result_item").removeClass("active")});t.extend(l);++n}this._bounds=t;this.itemCount=n;if(this.settings.markerCluster.cluster){this._markerCluster=new MarkerClusterer(this.map,this.markers,{imagePath:this.settings.markerCluster.imagePath,cssClass:this.settings.markerCluster.cssClass})}},_handleMarkerClick:function(t,n,r){var i=r.settings.onBeforeClickMarker;if(e.isFunction(i)){i.call(this,n)}r._updateDetail(n);if(r.settings.routeOptions.show){r._closeDirections()}},_handleMarkerMouseover:function(t,n,r){var i=e('*[data-id="'+n.id+'"]');i.addClass("active")},_getInViewportMarkers:function(){this.viewPortMarkers=[];for(var e=0;e<this.markers.length;e++){if(this.map.getBounds().contains(this.markers[e].position)){this.viewPortMarkers[e]=this.markers[e].itemId}}google.maps.event.removeListener(this._boundInitListener);this._updateList()},_removeMarkers:function(){for(var e=0;e<this.markers.length;e++){this.markers[e].setMap(null)}if(this.settings.markerCluster.cluster){if(this._markerCluster){this._markerCluster.clearMarkers()}}},_initList:function(){if(this.settings.listOptions.sortByDistance){var t=new google.maps.LatLng(this.map.getCenter().lat(),this.map.getCenter().lng());for(var n=0;n<this._showData.length;n++){var r=new google.maps.LatLng(this._showData[n].location.latitude,this._showData[n].location.longitude);var i=google.maps.geometry.spherical.computeDistanceBetween(t,r);if(this.settings.listOptions.distanceType=="miles"){i=i*.000621371192}else{i=i/1e3}this._showData[n].distance=i.toFixed(1)}this._showData.sort(this._sortByDistance)}e(".map_listings_results").html("");e("#"+this.settings.templates.list).tmpl(this._showData).appendTo(".map_listings_results");this._updateCount();var s=this.settings.onUpdateList;if(e.isFunction(s)){s.call(this)}},_updateList:function(){var t=this._showData;var n=[];if(this.settings.listOptions.sortByDistance){var r=new google.maps.LatLng(this.map.getCenter().lat(),this.map.getCenter().lng())}for(var i=0;i<this.viewPortMarkers.length;i++){for(var s=0;s<t.length;s++){if(this.viewPortMarkers[i]==t[s].id){if(this.settings.listOptions.sortByDistance){var o=new google.maps.LatLng(t[s].location.latitude,t[s].location.longitude);var u=google.maps.geometry.spherical.computeDistanceBetween(r,o);if(this.settings.listOptions.distanceType=="miles"){u=u*.000621371192}else{u=u/1e3}t[s].distance=u.toFixed(1)}n.push(t[s])}}}if(this.settings.listOptions.sortByDistance){n.sort(this._sortByDistance)}this.itemCount=n.length;this._updateCount();e(".map_listings_results").html("");e("#"+this.settings.templates.list).tmpl(n).appendTo(".map_listings_results");var a=this.settings.onUpdateList;if(e.isFunction(a)){a.call(this,t)}},_sortByDistance:function(e,t){return e.distance-t.distance},_updateDetail:function(t){e(".map_detail").html("");e("#"+this.settings.templates.detail).tmpl(t).appendTo(".map_detail");e(".map_results").addClass("detail_open");if(this.settings.detailsOptions.panorama.showPanorama){var r=new google.maps.StreetViewService;var i=new google.maps.LatLng(t.location.latitude,t.location.longitude);var s=this.settings.detailsOptions.panorama;r.getPanorama({location:i,radius:this.settings.detailsOptions.panorama.searchRadius},function(t,r){if(r===google.maps.StreetViewStatus.OK){var i=new google.maps.StreetViewPanorama(n.getElementById(s.container));i.setPano(t.location.pano);i.setPov({heading:270,pitch:0});i.setVisible(true)}else{e("#"+s.container).css({"background-color":"transparent",height:"auto",width:"100%"});e("#"+s.container).html(s.notFoundText)}})}var o=this.settings.onUpdateDetail;if(e.isFunction(o)){o.call(this,t)}},_updateCount:function(){e(".map_listings_headline .map_listings_number").html("("+this.itemCount+")")},closeDetail:function(){e(".map_results").removeClass("detail_open");setTimeout(function(){e(".map_detail").html("")},700)},_calculateAndDisplayRoute:function(e,t,n,r){var i=this;e.route({origin:n,destination:r,travelMode:google.maps.TravelMode.DRIVING},function(e,n){if(n===google.maps.DirectionsStatus.OK){t.setDirections(e)}else{i._showNotification("Directions request failed due to "+n)}})},_closeDirections:function(){if(e(".map_route").hasClass("open")){e(".map_route").removeClass("open");this._directionsDisplay.setMap(null)}},_showNotification:function(t){e("<div>",{id:"map_notification","class":this.settings.notificationOptions.class}).append(t).appendTo(".map_container").fadeIn("slow");setTimeout(function(){e("#map_notification").fadeOut("slow",function(){e("#map_notification").remove()})},this.settings.notificationOptions.duration)},_initResponsive:function(){var r=Math.max(n.documentElement.clientWidth,t.innerWidth||0);var i=Math.max(n.documentElement.clientHeight,t.innerHeight||0);var s=this,o,u;var a=t.innerWidth||e(t).width();for(var f=0,l=s.settings.responsiveOptions.length;f<l;f++){if(a<=s.settings.responsiveOptions[f].breakpoint){o=s.settings.responsiveOptions[f].breakpoint}}e(s.settings.responsiveOptions).each(function(e,t){if(o==t.breakpoint){u=t.settings}});var c=i;var h;var p=e(".map_wrapper");if(typeof u==="undefined"){if(this.settings.height!=null&&this.settings.height.length>0){p.height(this.settings.height)}else{p.css("height",i)}e(".map_container").css("height","100%");e(".map_results").css("height","100%")}else{p.css("height","auto");if(u.mapHeight==="full"){c=i}else{c=u.mapHeight}h=u.listHeight;e(".map_container").css("height",c);e(".map_results").css("height",h)}if(this.settings.categoriesOptions.showFilter){setTimeout(function(){var t=e("#mapFilterNavigation");if(t.length>0){var n=e(".map_container").height();var r=e(t).outerHeight(true);var i=e(t).position().top;if(n-(r+i)<0){e(t).css("height",n-(i+50));e(t).css("overflow","auto")}else{e(t).css("overflow","hidden");e(t).css("height","auto")}}},1e3)}}});e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)